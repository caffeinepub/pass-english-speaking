{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Adjust Gemini-based assistant to behave as an English Learning Companion with improved context awareness, Hindi/Hinglish support, and distinct Friend/Teacher modes while fixing repetitive responses.",
  "architectural_notes": [
    "Define/maintain system prompt: 'English Learning Companion'.",
    "Support mode-specific prompting/response style (Friend vs Teacher) to avoid repetitive templates.",
    "Add language detection (Hindi/Hinglish vs English) and choose response language mix accordingly.",
    "Add response-quality guardrails to prevent repeating the same generic line across turns."
  ],
  "known_issues": [
    "Gemini assistant is repeating the phrase 'Cool! Can you tell me more' for every message."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-eliminate-the-repetitive-reply-pattern-in-the-ai-friend-teacher-chat-so-the-assistant-does-not-keep-responding-with-variations-of-cool-can-you-tell-me-more-for-most-user-messages-especially-short-messages-and-questions",
      "title": "Eliminate the repetitive reply pattern in the AI/Friend/Teacher chat so the assistant does not keep responding with variations of “Cool! Can you tell me more…” for most user messages, especially short messages and questions.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ai-assistant-s-system-persona-instructions-used-by-the-chat-reply-generation-logic-so-the-assistant-consistently-presents-itself-as-an-english-learning-companion-and-prioritizes-english-learning-help-corrections-examples-vocabulary-upgrades-over-generic-conversation-filler",
      "title": "Update the AI assistant’s system/persona instructions (used by the chat reply generation logic) so the assistant consistently presents itself as an “English Learning Companion” and prioritizes English-learning help (corrections, examples, vocabulary upgrades) over generic conversation filler.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-context-awareness-in-chat-replies-so-responses-reference-the-user-s-actual-message-content-and-provide-a-specific-helpful-next-step-answer-correction-example-or-targeted-follow-up-question",
      "title": "Improve context awareness in chat replies so responses reference the user’s actual message content and provide a specific, helpful next step (answer, correction, example, or targeted follow-up question).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-hindi-hinglish-detection-in-the-chat-assistant-and-respond-in-a-mixed-hindi-english-style-when-the-user-message-is-hindi-hinglish-e-g-tum-kaun-ho-while-still-supporting-english-learning-goals",
      "title": "Add Hindi/Hinglish detection in the chat assistant and respond in a mixed Hindi + English style when the user message is Hindi/Hinglish (e.g., “Tum kaun ho”), while still supporting English learning goals.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-personality-modes-behave-distinctly-friend-mode-should-be-funny-light-teacher-mode-should-be-helpful-structured-and-both-must-avoid-repetitive-templates-across-messages",
      "title": "Ensure personality modes behave distinctly: Friend Mode should be funny/light, Teacher Mode should be helpful/structured, and both must avoid repetitive templates across messages.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Fix Gemini API/assistant repetitive response loop (e.g., always replying 'Cool! Can you tell me more')",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Update system instructions to define the assistant as an 'English Learning Companion'",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Improve context awareness so responses are specific and helpful based on the user's message",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Add Hindi/Hinglish detection and respond in mixed Hindi+English when user uses Hindi/Hinglish",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Ensure personality modes behave correctly: Friend Mode is funny; Teacher Mode is helpful and non-repetitive",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "English Learning Companion",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}